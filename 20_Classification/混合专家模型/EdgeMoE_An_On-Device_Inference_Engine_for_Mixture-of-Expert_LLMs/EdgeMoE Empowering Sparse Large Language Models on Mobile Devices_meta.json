{
  "table_of_contents": [
    {
      "title": "EdgeMoE: Empowering Sparse Large Language\nModels on Mobile Devices",
      "heading_level": null,
      "page_id": 0,
      "polygon": [
        [
          66.9375,
          57.402587890625
        ],
        [
          544.4098510742188,
          57.402587890625
        ],
        [
          544.4098510742188,
          110.4320068359375
        ],
        [
          66.9375,
          110.4320068359375
        ]
      ]
    },
    {
      "title": "I. INTRODUCTION",
      "heading_level": null,
      "page_id": 0,
      "polygon": [
        [
          133.875,
          490.74609375
        ],
        [
          213.37188720703125,
          490.74609375
        ],
        [
          213.37188720703125,
          502.7201843261719
        ],
        [
          133.875,
          502.7201843261719
        ]
      ]
    },
    {
      "title": "II. PILOT EXPERIMENTS AND ANALYSIS",
      "heading_level": null,
      "page_id": 1,
      "polygon": [
        [
          349.62890625,
          416.109375
        ],
        [
          523.708740234375,
          416.109375
        ],
        [
          523.708740234375,
          427.0500793457031
        ],
        [
          349.62890625,
          427.0500793457031
        ]
      ]
    },
    {
      "title": "A. A Primer on LLM with Mixture-of-Experts",
      "heading_level": null,
      "page_id": 1,
      "polygon": [
        [
          306.59765625,
          431.578125
        ],
        [
          499.7829895019531,
          431.578125
        ],
        [
          499.7829895019531,
          441.9201965332031
        ],
        [
          306.59765625,
          441.9201965332031
        ]
      ]
    },
    {
      "title": "B. On-device Sparse LLM Inference",
      "heading_level": null,
      "page_id": 2,
      "polygon": [
        [
          47.25,
          623.77734375
        ],
        [
          198.0,
          623.77734375
        ],
        [
          198.0,
          633.75
        ],
        [
          47.25,
          633.75
        ]
      ]
    },
    {
      "title": "(5) Expert activation path follows power law distribution. While the overall activation frequency of each single expert is well balanced, we find that the activation path, i.e., a vector of the activated experts of all transformer layers for a token, is highly skewed. Figure 4 depicts the distribution of activation path obtained on two MoE models and two datasets. It presents a power law distribution: the 20% most frequently activated paths contribute to more than 99% of the activation cases of all tokens. This observation implies that the expert activation across different layers could be non-iid, which drives us to a deeper analysis of the expert activation correlation later in \u00a7III-C.",
      "heading_level": null,
      "page_id": 3,
      "polygon": [
        [
          310.5,
          139.21875
        ],
        [
          564.0,
          139.21875
        ],
        [
          564.0,
          282.0
        ],
        [
          310.5,
          282.0
        ]
      ]
    },
    {
      "title": "III. EDGEMOE DESIGN",
      "heading_level": null,
      "page_id": 3,
      "polygon": [
        [
          387.0,
          302.4140625
        ],
        [
          486.0,
          302.4140625
        ],
        [
          486.0,
          312.0
        ],
        [
          387.0,
          312.0
        ]
      ]
    },
    {
      "title": "A. Overview",
      "heading_level": null,
      "page_id": 3,
      "polygon": [
        [
          309.75,
          322.5
        ],
        [
          363.673828125,
          322.5
        ],
        [
          363.673828125,
          330.2578125
        ],
        [
          309.75,
          330.2578125
        ]
      ]
    },
    {
      "title": "B. Expert-wise Quantization",
      "heading_level": null,
      "page_id": 4,
      "polygon": [
        [
          309.287109375,
          335.671875
        ],
        [
          429.0,
          335.671875
        ],
        [
          429.0,
          345.75
        ],
        [
          309.287109375,
          345.75
        ]
      ]
    },
    {
      "title": "C. In-memory Expert Management",
      "heading_level": null,
      "page_id": 5,
      "polygon": [
        [
          310.5,
          708.75
        ],
        [
          456.75,
          708.75
        ],
        [
          456.75,
          718.91015625
        ],
        [
          310.5,
          718.91015625
        ]
      ]
    },
    {
      "title": "IV. EVALUATION",
      "heading_level": null,
      "page_id": 6,
      "polygon": [
        [
          399.0,
          645.43359375
        ],
        [
          474.5390625,
          645.43359375
        ],
        [
          474.5390625,
          654.75
        ],
        [
          399.0,
          654.75
        ]
      ]
    },
    {
      "title": "A. Implementation and Methodology",
      "heading_level": null,
      "page_id": 6,
      "polygon": [
        [
          309.5859375,
          663.0
        ],
        [
          463.5,
          663.0
        ],
        [
          463.5,
          672.50390625
        ],
        [
          309.5859375,
          672.50390625
        ]
      ]
    },
    {
      "title": "B. End-to-end Results",
      "heading_level": null,
      "page_id": 7,
      "polygon": [
        [
          310.482421875,
          518.2986145019531
        ],
        [
          402.6277160644531,
          518.2986145019531
        ],
        [
          402.6277160644531,
          528.2611999511719
        ],
        [
          310.482421875,
          528.2611999511719
        ]
      ]
    },
    {
      "title": "C. Sensitivity Analysis",
      "heading_level": null,
      "page_id": 10,
      "polygon": [
        [
          48.0,
          540.0
        ],
        [
          141.75,
          540.0
        ],
        [
          141.75,
          549.75
        ],
        [
          48.0,
          549.75
        ]
      ]
    },
    {
      "title": "(c) MiniCPM MoE 8x2B",
      "heading_level": null,
      "page_id": 11,
      "polygon": [
        [
          126.75,
          230.25
        ],
        [
          220.5,
          230.25
        ],
        [
          220.5,
          239.37890625
        ],
        [
          126.75,
          239.37890625
        ]
      ]
    },
    {
      "title": "D. Ablation Study",
      "heading_level": null,
      "page_id": 11,
      "polygon": [
        [
          47.25,
          490.5
        ],
        [
          124.5,
          490.5
        ],
        [
          124.5,
          499.5
        ],
        [
          47.25,
          499.5
        ]
      ]
    },
    {
      "title": "V. RELATED WORK",
      "heading_level": null,
      "page_id": 11,
      "polygon": [
        [
          131.25,
          660.90234375
        ],
        [
          218.25,
          660.90234375
        ],
        [
          218.25,
          670.5
        ],
        [
          131.25,
          670.5
        ]
      ]
    },
    {
      "title": "VI. CONCLUSIONS",
      "heading_level": null,
      "page_id": 12,
      "polygon": [
        [
          132.6796875,
          296.61328125
        ],
        [
          215.25506591796875,
          296.61328125
        ],
        [
          215.25506591796875,
          306.9162902832031
        ],
        [
          132.6796875,
          306.9162902832031
        ]
      ]
    },
    {
      "title": "VII. ACKNOWLEDGMENT",
      "heading_level": null,
      "page_id": 12,
      "polygon": [
        [
          119.40001678466797,
          431.96484375
        ],
        [
          229.5905303955078,
          431.96484375
        ],
        [
          229.5905303955078,
          442.5281982421875
        ],
        [
          119.40001678466797,
          442.5281982421875
        ]
      ]
    },
    {
      "title": "REFERENCES",
      "heading_level": null,
      "page_id": 12,
      "polygon": [
        [
          145.529296875,
          543.33984375
        ],
        [
          202.39849853515625,
          543.33984375
        ],
        [
          202.39849853515625,
          554.2301177978516
        ],
        [
          145.529296875,
          554.2301177978516
        ]
      ]
    },
    {
      "title": "APPENDIX A\nED G EMOE EXAMPLES",
      "heading_level": null,
      "page_id": 14,
      "polygon": [
        [
          391.7291259765625,
          89.71875
        ],
        [
          483.04254150390625,
          89.71875
        ],
        [
          483.04254150390625,
          112.07513427734375
        ],
        [
          391.7291259765625,
          112.07513427734375
        ]
      ]
    },
    {
      "title": "EdgeMoE:",
      "heading_level": null,
      "page_id": 14,
      "polygon": [
        [
          326.619140625,
          351.7083435058594
        ],
        [
          372.4804992675781,
          351.7083435058594
        ],
        [
          372.4804992675781,
          362.31109619140625
        ],
        [
          326.619140625,
          362.31109619140625
        ]
      ]
    },
    {
      "title": "original:",
      "heading_level": null,
      "page_id": 15,
      "polygon": [
        [
          63.052734375,
          54.79949951171875
        ],
        [
          100.83885192871094,
          54.79949951171875
        ],
        [
          100.83885192871094,
          64.7620849609375
        ],
        [
          63.052734375,
          64.7620849609375
        ]
      ]
    },
    {
      "title": "EdgeMoE:",
      "heading_level": null,
      "page_id": 15,
      "polygon": [
        [
          63.94921875,
          125.89044189453125
        ],
        [
          109.46654510498047,
          125.89044189453125
        ],
        [
          109.46654510498047,
          136.4931640625
        ],
        [
          63.94921875,
          136.4931640625
        ]
      ]
    }
  ],
  "page_stats": [
    {
      "page_id": 0,
      "text_extraction_method": "pdftext",
      "block_counts": [
        [
          "Span",
          313
        ],
        [
          "Line",
          104
        ],
        [
          "Text",
          9
        ],
        [
          "PageHeader",
          2
        ],
        [
          "SectionHeader",
          2
        ],
        [
          "PageFooter",
          1
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 1,
      "text_extraction_method": "pdftext",
      "block_counts": [
        [
          "Span",
          398
        ],
        [
          "Line",
          116
        ],
        [
          "Text",
          9
        ],
        [
          "ListItem",
          4
        ],
        [
          "Reference",
          3
        ],
        [
          "SectionHeader",
          2
        ],
        [
          "PageHeader",
          1
        ],
        [
          "Footnote",
          1
        ],
        [
          "ListGroup",
          1
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 2,
      "text_extraction_method": "surya",
      "block_counts": [
        [
          "Line",
          141
        ],
        [
          "Span",
          87
        ],
        [
          "Text",
          5
        ],
        [
          "Reference",
          4
        ],
        [
          "Caption",
          3
        ],
        [
          "PageHeader",
          2
        ],
        [
          "Figure",
          2
        ],
        [
          "FigureGroup",
          2
        ],
        [
          "SectionHeader",
          1
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 3,
      "text_extraction_method": "surya",
      "block_counts": [
        [
          "Line",
          129
        ],
        [
          "Span",
          66
        ],
        [
          "Text",
          8
        ],
        [
          "ListItem",
          3
        ],
        [
          "SectionHeader",
          3
        ],
        [
          "PageHeader",
          2
        ],
        [
          "Caption",
          1
        ],
        [
          "ListGroup",
          1
        ],
        [
          "Reference",
          1
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 4,
      "text_extraction_method": "surya",
      "block_counts": [
        [
          "Line",
          133
        ],
        [
          "Span",
          59
        ],
        [
          "Text",
          11
        ],
        [
          "Reference",
          3
        ],
        [
          "PageHeader",
          2
        ],
        [
          "Caption",
          2
        ],
        [
          "Figure",
          1
        ],
        [
          "SectionHeader",
          1
        ],
        [
          "FigureGroup",
          1
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 5,
      "text_extraction_method": "surya",
      "block_counts": [
        [
          "Line",
          122
        ],
        [
          "Span",
          34
        ],
        [
          "Text",
          10
        ],
        [
          "Reference",
          4
        ],
        [
          "Figure",
          3
        ],
        [
          "PageHeader",
          2
        ],
        [
          "ListItem",
          2
        ],
        [
          "Caption",
          2
        ],
        [
          "FigureGroup",
          2
        ],
        [
          "SectionHeader",
          1
        ],
        [
          "ListGroup",
          1
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 6,
      "text_extraction_method": "surya",
      "block_counts": [
        [
          "Line",
          122
        ],
        [
          "Span",
          57
        ],
        [
          "Text",
          11
        ],
        [
          "Reference",
          3
        ],
        [
          "PageHeader",
          2
        ],
        [
          "SectionHeader",
          2
        ],
        [
          "Figure",
          1
        ],
        [
          "Caption",
          1
        ],
        [
          "Equation",
          1
        ],
        [
          "FigureGroup",
          1
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 7,
      "text_extraction_method": "pdftext",
      "block_counts": [
        [
          "Span",
          400
        ],
        [
          "Line",
          116
        ],
        [
          "TableCell",
          64
        ],
        [
          "Text",
          10
        ],
        [
          "PageHeader",
          2
        ],
        [
          "Table",
          1
        ],
        [
          "Caption",
          1
        ],
        [
          "SectionHeader",
          1
        ],
        [
          "TableGroup",
          1
        ],
        [
          "Reference",
          1
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 8,
      "text_extraction_method": "surya",
      "block_counts": [
        [
          "Line",
          83
        ],
        [
          "Span",
          27
        ],
        [
          "Text",
          3
        ],
        [
          "Reference",
          3
        ],
        [
          "PageHeader",
          2
        ],
        [
          "Figure",
          2
        ],
        [
          "Caption",
          2
        ],
        [
          "FigureGroup",
          2
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 9,
      "text_extraction_method": "surya",
      "block_counts": [
        [
          "Line",
          138
        ],
        [
          "TableCell",
          48
        ],
        [
          "Span",
          36
        ],
        [
          "Text",
          15
        ],
        [
          "Caption",
          3
        ],
        [
          "Figure",
          3
        ],
        [
          "Reference",
          3
        ],
        [
          "PageHeader",
          2
        ],
        [
          "Table",
          2
        ],
        [
          "FigureGroup",
          1
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 10,
      "text_extraction_method": "surya",
      "block_counts": [
        [
          "Line",
          150
        ],
        [
          "Span",
          88
        ],
        [
          "Text",
          18
        ],
        [
          "TableCell",
          10
        ],
        [
          "Caption",
          5
        ],
        [
          "Reference",
          4
        ],
        [
          "Figure",
          3
        ],
        [
          "FigureGroup",
          3
        ],
        [
          "PageHeader",
          2
        ],
        [
          "SectionHeader",
          1
        ],
        [
          "Table",
          1
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 11,
      "text_extraction_method": "surya",
      "block_counts": [
        [
          "Line",
          125
        ],
        [
          "TableCell",
          38
        ],
        [
          "Span",
          17
        ],
        [
          "Text",
          10
        ],
        [
          "Table",
          3
        ],
        [
          "SectionHeader",
          3
        ],
        [
          "Figure",
          3
        ],
        [
          "PageHeader",
          2
        ],
        [
          "Reference",
          2
        ],
        [
          "Caption",
          1
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 12,
      "text_extraction_method": "pdftext",
      "block_counts": [
        [
          "Span",
          538
        ],
        [
          "Line",
          135
        ],
        [
          "ListItem",
          32
        ],
        [
          "Reference",
          32
        ],
        [
          "Text",
          3
        ],
        [
          "SectionHeader",
          3
        ],
        [
          "PageHeader",
          2
        ],
        [
          "ListGroup",
          2
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 13,
      "text_extraction_method": "pdftext",
      "block_counts": [
        [
          "Span",
          506
        ],
        [
          "Line",
          154
        ],
        [
          "ListItem",
          44
        ],
        [
          "Reference",
          42
        ],
        [
          "PageHeader",
          2
        ],
        [
          "ListGroup",
          2
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 14,
      "text_extraction_method": "pdftext",
      "block_counts": [
        [
          "Span",
          376
        ],
        [
          "Line",
          131
        ],
        [
          "ListItem",
          21
        ],
        [
          "Reference",
          20
        ],
        [
          "Text",
          6
        ],
        [
          "PageHeader",
          2
        ],
        [
          "SectionHeader",
          2
        ],
        [
          "ListGroup",
          1
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    },
    {
      "page_id": 15,
      "text_extraction_method": "pdftext",
      "block_counts": [
        [
          "Span",
          135
        ],
        [
          "Line",
          59
        ],
        [
          "Text",
          9
        ],
        [
          "Picture",
          6
        ],
        [
          "PageHeader",
          2
        ],
        [
          "SectionHeader",
          2
        ]
      ],
      "block_metadata": {
        "llm_request_count": 0,
        "llm_error_count": 0,
        "llm_tokens_used": 0,
        "previous_text": "",
        "previous_type": "",
        "previous_order": 0
      }
    }
  ],
  "debug_data_path": "debug_data/EdgeMoE Empowering Sparse Large Language Models on Mobile Devices"
}